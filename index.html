<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ï£ºÌÉùÎåÄÏ∂ú ÏãúÎÆ¨Î†àÏù¥ÌÑ∞ - Ìñ•ÏÉÅÎêú Î≤ÑÏ†Ñ</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: bold;
        }
        .header p {
            margin: 10px 0 0 0;
            font-size: 18px;
            opacity: 0.9;
        }
        .alert {
            background: rgba(231, 76, 60, 0.9);
            padding: 8px 15px;
            border-radius: 20px;
            display: inline-block;
            margin-top: 10px;
            font-size: 14px;
        }
        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
        }
        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            color: #6c757d;
            transition: all 0.3s;
        }
        .tab.active {
            background: white;
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
        }
        .tab-content {
            display: none;
            padding: 30px;
        }
        .tab-content.active {
            display: block;
        }
        .simulator {
            background: #f1f2f6;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
        }
        .simulator h3 {
            margin: 0 0 20px 0;
            color: #2c3e50;
            font-size: 20px;
        }
        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #2c3e50;
        }
        .input-group input, .input-group select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            box-sizing: border-box;
        }
        .input-help {
            font-size: 12px;
            color: #7f8c8d;
            margin-top: 4px;
        }
        .calculate-btn {
            text-align: center;
            margin-bottom: 20px;
        }
        .calculate-btn button {
            padding: 15px 30px;
            background: linear-gradient(135deg, #00b894, #00cec9);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0,184,148,0.3);
        }
        .calculate-btn button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,184,148,0.4);
        }
        .result {
            background: white;
            border-radius: 10px;
            padding: 20px;
            border-left: 5px solid #00b894;
            margin-bottom: 20px;
        }
        .result h4 {
            margin: 0 0 15px 0;
            color: #2c3e50;
        }
        .result-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .result-card {
            text-align: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .result-card-special {
            text-align: center;
            padding: 20px;
            color: white;
            border-radius: 10px;
        }
        .result-card-blue {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
        }
        .result-card-pink {
            background: linear-gradient(135deg, #fd79a8, #e84393);
        }
        .result-card-green {
            background: linear-gradient(135deg, #00b894, #00cec9);
        }
        .result-card-purple {
            background: linear-gradient(135deg, #a29bfe, #6c5ce7);
        }
        .result-card-orange {
            background: linear-gradient(135deg, #fdcb6e, #e17055);
        }
        .result-label {
            font-size: 12px;
            color: #636e72;
            margin-bottom: 5px;
        }
        .result-label-white {
            font-size: 12px;
            opacity: 0.9;
            margin-bottom: 5px;
        }
        .result-value {
            font-weight: bold;
            color: #2c3e50;
            font-size: 16px;
        }
        .result-value-large {
            font-weight: bold;
            font-size: 20px;
        }
        .calculation-box {
            margin-bottom: 15px;
            padding: 15px;
            background: #e8f4f8;
            border-radius: 8px;
            border-left: 4px solid #00b894;
        }
        .calculation-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 8px;
        }
        .calculation-text {
            font-size: 14px;
            color: #636e72;
        }
        .conditions-box {
            padding: 15px;
            background: #fff3cd;
            border-radius: 8px;
            border-left: 4px solid #ffc107;
        }
        .conditions-title {
            font-weight: bold;
            color: #856404;
            margin-bottom: 8px;
        }
        .conditions-text {
            font-size: 14px;
            color: #856404;
        }
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .comparison-table th {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 15px;
            text-align: center;
            font-weight: bold;
        }
        .comparison-table td {
            padding: 12px;
            text-align: center;
            border-bottom: 1px solid #dee2e6;
        }
        .comparison-table tr:hover {
            background: #f8f9fa;
        }
        .best-option {
            background: #d4edda !important;
            font-weight: bold;
            color: #155724;
        }
        .cost-breakdown {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
        }
        .cost-breakdown h5 {
            margin: 0 0 15px 0;
            color: #2c3e50;
            font-size: 18px;
        }
        .cost-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #dee2e6;
        }
        .cost-item:last-child {
            border-bottom: none;
            font-weight: bold;
            font-size: 16px;
            color: #2c3e50;
        }
        .warning-box {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
            color: #721c24;
        }
        .warning-box h5 {
            margin: 0 0 10px 0;
            color: #721c24;
        }
        .slider-container {
            margin: 20px 0;
        }
        .slider-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-weight: bold;
            color: #2c3e50;
        }
        .slider {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
        }
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #3498db;
            cursor: pointer;
        }
        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #3498db;
            cursor: pointer;
            border: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè† Ï£ºÌÉùÎåÄÏ∂ú Ï¢ÖÌï© ÏãúÎÆ¨Î†àÏù¥ÌÑ∞</h1>
            <p>6.27 Í∞ÄÍ≥ÑÎ∂ÄÏ±Ñ ÎåÄÏ±Ö Î∞òÏòÅ - Ìñ•ÏÉÅÎêú Î≤ÑÏ†Ñ</p>
            <div class="alert">
                üö® Ï†ïÏ±ÖÎåÄÏ∂ú ÌïúÎèÑ ÎåÄÌè≠ Ï∂ïÏÜå Ï†ÅÏö© + Ïõî ÏÉÅÌôòÏï° Î∞è Î∂ÄÎåÄÎπÑÏö© Í≥ÑÏÇ∞
            </div>
        </div>
        
        <div class="tabs">
            <button class="tab active" onclick="showTab('basic')">Í∏∞Î≥∏ Í≥ÑÏÇ∞</button>
            <button class="tab" onclick="showTab('payment')">Ïõî ÏÉÅÌôòÏï°</button>
            <button class="tab" onclick="showTab('cost')">Î∂ÄÎåÄÎπÑÏö©</button>
            <button class="tab" onclick="showTab('compare')">ÎåÄÏ∂ú ÎπÑÍµê</button>
        </div>
        
        <div id="basic" class="tab-content active">
            <div class="simulator">
                <h3>üßÆ ÎåÄÏ∂ú Í∞ÄÎä• Í∏àÏï° ÏãúÎÆ¨Î†àÏù¥ÌÑ∞</h3>
                <div class="input-grid">
                    <div class="input-group">
                        <label for="cash">Î≥¥Ïú† ÌòÑÍ∏à</label>
                        <select id="cash">
                            <option value="25000000">2,500ÎßåÏõê</option>
                            <option value="30000000">3,000ÎßåÏõê</option>
                            <option value="40000000">4,000ÎßåÏõê</option>
                            <option value="50000000">5,000ÎßåÏõê</option>
                            <option value="60000000">6,000ÎßåÏõê</option>
                            <option value="70000000">7,000ÎßåÏõê</option>
                            <option value="80000000">8,000ÎßåÏõê</option>
                            <option value="90000000">9,000ÎßåÏõê</option>
                            <option value="100000000">1ÏñµÏõê</option>
                            <option value="110000000">1Ïñµ 1Ï≤úÎßåÏõê</option>
                            <option value="120000000">1Ïñµ 2Ï≤úÎßåÏõê</option>
                            <option value="130000000">1Ïñµ 3Ï≤úÎßåÏõê</option>
                            <option value="140000000">1Ïñµ 4Ï≤úÎßåÏõê</option>
                            <option value="150000000">1Ïñµ 5Ï≤úÎßåÏõê</option>
                            <option value="160000000">1Ïñµ 6Ï≤úÎßåÏõê</option>
                            <option value="170000000">1Ïñµ 7Ï≤úÎßåÏõê</option>
                            <option value="180000000">1Ïñµ 8Ï≤úÎßåÏõê</option>
                            <option value="190000000">1Ïñµ 9Ï≤úÎßåÏõê</option>
                            <option value="200000000" selected>2ÏñµÏõê</option>
                            <option value="250000000">2Ïñµ 5Ï≤úÎßåÏõê</option>
                            <option value="300000000">3ÏñµÏõê</option>
                            <option value="400000000">4ÏñµÏõê</option>
                            <option value="500000000">5ÏñµÏõê</option>
                            <option value="600000000">6ÏñµÏõê</option>
                            <option value="700000000">7ÏñµÏõê</option>
                            <option value="800000000">8ÏñµÏõê</option>
                            <option value="900000000">9ÏñµÏõê</option>
                            <option value="1000000000">10ÏñµÏõê</option>
                        </select>
                        <div class="input-help">* ÏÑ∏Í∏à, Ï§ëÍ∞úÏàòÏàòÎ£å Îì± Î≥ÑÎèÑ</div>
                    </div>
                    <div class="input-group">
                        <label for="income">Ïó∞ ÏÜåÎìù</label>
                        <select id="income">
                            <option value="30000000">3,000ÎßåÏõê</option>
                            <option value="31000000">3,100ÎßåÏõê</option>
                            <option value="32000000">3,200ÎßåÏõê</option>
                            <option value="33000000">3,300ÎßåÏõê</option>
                            <option value="34000000">3,400ÎßåÏõê</option>
                            <option value="35000000">3,500ÎßåÏõê</option>
                            <option value="36000000">3,600ÎßåÏõê</option>
                            <option value="37000000">3,700ÎßåÏõê</option>
                            <option value="38000000" selected>3,800ÎßåÏõê</option>
                            <option value="39000000">3,900ÎßåÏõê</option>
                            <option value="40000000">4,000ÎßåÏõê</option>
                            <option value="41000000">4,100ÎßåÏõê</option>
                            <option value="42000000">4,200ÎßåÏõê</option>
                            <option value="43000000">4,300ÎßåÏõê</option>
                            <option value="44000000">4,400ÎßåÏõê</option>
                            <option value="45000000">4,500ÎßåÏõê</option>
                            <option value="46000000">4,600ÎßåÏõê</option>
                            <option value="47000000">4,700ÎßåÏõê</option>
                            <option value="48000000">4,800ÎßåÏõê</option>
                            <option value="50000000">5,000ÎßåÏõê</option>
                            <option value="60000000">6,000ÎßåÏõê</option>
                            <option value="70000000">7,000ÎßåÏõê</option>
                            <option value="80000000">8,000ÎßåÏõê</option>
                            <option value="90000000">9,000ÎßåÏõê</option>
                            <option value="100000000">1ÏñµÏõê</option>
                            <option value="120000000">1Ïñµ 2Ï≤úÎßåÏõê</option>
                            <option value="150000000">1Ïñµ 5Ï≤úÎßåÏõê</option>
                            <option value="200000000">2ÏñµÏõê</option>
                        </select>
                        <div class="input-help">* ÏÑ∏Ï†Ñ Ïó∞Î¥â Í∏∞Ï§Ä(ÏûëÎÖÑ ÏÜåÎìù)</div>
                    </div>
                    <div class="input-group">
                        <label for="region">Ìù¨Îßù Í±∞Ï£º ÏßÄÏó≠</label>
                        <select id="region">
                            <option value="seoul">ÏÑúÏö∏ (Í∑úÏ†úÏßÄÏó≠)</option>
                            <option value="metro">ÏàòÎèÑÍ∂å (ÎπÑÍ∑úÏ†úÏßÄÏó≠)</option>
                            <option value="other">Í∏∞ÌÉÄ ÏßÄÏó≠</option>
                        </select>
                        <div class="input-help">* LTV ÎπÑÏú®Ïù¥ Îã§Î¶Ñ</div>
                    </div>
                    <div class="input-group">
                        <label for="age">ÎÇòÏù¥</label>
                        <select id="age">
                            <option value="20">20ÎåÄ</option>
                            <option value="30" selected>30ÎåÄ</option>
                            <option value="40">40ÎåÄ</option>
                            <option value="50">50ÎåÄ Ïù¥ÏÉÅ</option>
                        </select>
                        <div class="input-help">* Ï≤≠ÎÖÑ Ïö∞ÎåÄ ÌòúÌÉù Ï†ÅÏö©</div>
                    </div>
                    <div class="input-group">
                        <label for="marriage">Í≤∞Ìòº ÏÉÅÌÉú</label>
                        <select id="marriage">
                            <option value="single">ÎØ∏Ìòº</option>
                            <option value="married" selected>Í∏∞Ìòº</option>
                            <option value="newlywed">Ïã†ÌòºÎ∂ÄÎ∂Ä (5ÎÖÑ Ïù¥ÎÇ¥)</option>
                        </select>
                        <div class="input-help">* Ïã†ÌòºÎ∂ÄÎ∂Ä ÌäπÎ≥Ñ ÌòúÌÉù</div>
                    </div>
                    <div class="input-group">
                        <label for="firstTime">Ï£ºÌÉù ÏÜåÏú† Ïù¥Î†•</label>
                        <select id="firstTime">
                            <option value="true" selected>ÏÉùÏï† ÏµúÏ¥à</option>
                            <option value="false">Í∏∞Ï°¥ ÏÜåÏú†</option>
                        </select>
                        <div class="input-help">* ÏÉùÏï†ÏµúÏ¥à ÌäπÎ≥Ñ ÌòúÌÉù</div>
                    </div>
                </div>
                <div class="calculate-btn">
                    <button onclick="calculateAll()">üí° Ï¢ÖÌï© Í≥ÑÏÇ∞ÌïòÍ∏∞</button>
                </div>
            </div>
            
            <div id="basicResult" class="result" style="display: none;">
                <h4>üìã Í∏∞Î≥∏ Í≥ÑÏÇ∞ Í≤∞Í≥º</h4>
                <div id="basicResultContent"></div>
            </div>
        </div>
        
        <div id="payment" class="tab-content">
            <div class="simulator">
                <h3>üí∞ Ïõî ÏÉÅÌôòÏï° ÏãúÎÆ¨Î†àÏù¥ÌÑ∞</h3>
                <div class="input-grid">
                    <div class="input-group">
                        <label for="loanAmount">ÎåÄÏ∂ú Í∏àÏï°</label>
                        <input type="number" id="loanAmount" placeholder="ÎåÄÏ∂ú Í∏àÏï° ÏûÖÎ†•" value="300000000">
                        <div class="input-help">* Ïõê Îã®ÏúÑÎ°ú ÏûÖÎ†•</div>
                    </div>
                    <div class="input-group">
                        <label for="interestRate">Ïó∞ Ïù¥ÏûêÏú® (%)</label>
                        <input type="number" id="interestRate" step="0.1" placeholder="Ïù¥ÏûêÏú® ÏûÖÎ†•" value="3.5">
                        <div class="input-help">* Ïó∞ Ïù¥ÏûêÏú® Í∏∞Ï§Ä</div>
                    </div>
                    <div class="input-group">
                        <label for="loanTerm">ÎåÄÏ∂ú Í∏∞Í∞Ñ</label>
                        <select id="loanTerm">
                            <option value="10">10ÎÖÑ</option>
                            <option value="15">15ÎÖÑ</option>
                            <option value="20">20ÎÖÑ</option>
                            <option value="25">25ÎÖÑ</option>
                            <option value="30" selected>30ÎÖÑ</option>
                            <option value="35">35ÎÖÑ</option>
                        </select>
                        <div class="input-help">* ÎåÄÏ∂ú ÏÉÅÌôò Í∏∞Í∞Ñ</div>
                    </div>
                    <div class="input-group">
                        <label for="paymentType">ÏÉÅÌôò Î∞©Ïãù</label>
                        <select id="paymentType">
                            <option value="equal" selected>ÏõêÎ¶¨Í∏àÍ∑†Îì±</option>
                            <option value="principal">ÏõêÍ∏àÍ∑†Îì±</option>
                        </select>
                        <div class="input-help">* ÏÉÅÌôò Î∞©Ïãù ÏÑ†ÌÉù</div>
                    </div>
                </div>
                
                <div class="slider-container">
                    <div class="slider-label">
                        <span>Ïù¥ÏûêÏú® Ï°∞Ï†ï</span>
                        <span id="sliderValue">3.5%</span>
                    </div>
                    <input type="range" id="rateSlider" class="slider" min="2.0" max="7.0" step="0.1" value="3.5">
                </div>
                
                <div class="calculate-btn">
                    <button onclick="calculatePayment()">üí° Ïõî ÏÉÅÌôòÏï° Í≥ÑÏÇ∞</button>
                </div>
            </div>
            
            <div id="paymentResult" class="result" style="display: none;">
                <h4>üìã Ïõî ÏÉÅÌôòÏï° Í≥ÑÏÇ∞ Í≤∞Í≥º</h4>
                <div id="paymentResultContent"></div>
            </div>
        </div>
        
        <div id="cost" class="tab-content">
            <div class="simulator">
                <h3>üí≥ Î∂ÄÎåÄÎπÑÏö© Í≥ÑÏÇ∞Í∏∞</h3>
                <div class="input-grid">
                    <div class="input-group">
                        <label for="housePrice">Ï£ºÌÉù Í∞ÄÍ≤©</label>
                        <input type="number" id="housePrice" placeholder="Ï£ºÌÉù Í∞ÄÍ≤© ÏûÖÎ†•" value="500000000">
                        <div class="input-help">* Îß§Îß§ Í∞ÄÍ≤© Í∏∞Ï§Ä</div>
                    </div>
                    <div class="input-group">
                        <label for="houseType">Ï£ºÌÉù Ïú†Ìòï</label>
                        <select id="houseType">
                            <option value="apartment" selected>ÏïÑÌååÌä∏</option>
                            <option value="villa">ÎπåÎùº/Ïó∞Î¶Ω</option>
                            <option value="house">Îã®ÎèÖÏ£ºÌÉù</option>
                        </select>
                        <div class="input-help">* ÏÑ∏Ïú®Ïù¥ Îã§Î¶Ñ</div>
                    </div>
                    <div class="input-group">
                        <label for="isFirstTime">ÏÉùÏï†ÏµúÏ¥à Ïó¨Î∂Ä</label>
                        <select id="isFirstTime">
                            <option value="true" selected>ÏÉùÏï†ÏµúÏ¥à</option>
                            <option value="false">Í∏∞Ï°¥ ÏÜåÏú†</option>
                        </select>
                        <div class="input-help">* ÏÑ∏Ïú® Í∞êÎ©¥ Ï†ÅÏö©</div>
                    </div>
                </div>
                
                <div class="calculate-btn">
                    <button onclick="calculateCost()">üí° Î∂ÄÎåÄÎπÑÏö© Í≥ÑÏÇ∞</button>
                </div>
            </div>
            
            <div id="costResult" class="result" style="display: none;">
                <h4>üìã Î∂ÄÎåÄÎπÑÏö© Í≥ÑÏÇ∞ Í≤∞Í≥º</h4>
                <div id="costResultContent"></div>
            </div>
        </div>
        
        <div id="compare" class="tab-content">
            <div class="simulator">
                <h3>üîç ÎåÄÏ∂ú ÏÉÅÌíà ÎπÑÍµê</h3>
                <p>ÌòÑÏû¨ ÏûÖÎ†•Îêú Ï°∞Í±¥ÏùÑ Î∞îÌÉïÏúºÎ°ú Ïù¥Ïö© Í∞ÄÎä•Ìïú ÎåÄÏ∂ú ÏÉÅÌíàÎì§ÏùÑ ÎπÑÍµêÌï¥Î≥¥ÏÑ∏Ïöî.</p>
                
                <div class="calculate-btn">
                    <button onclick="compareLoanProducts()">üí° ÎåÄÏ∂ú ÏÉÅÌíà ÎπÑÍµê</button>
                </div>
            </div>
            
            <div id="compareResult" class="result" style="display: none;">
                <h4>üìã ÎåÄÏ∂ú ÏÉÅÌíà ÎπÑÍµê Í≤∞Í≥º</h4>
                <div id="compareResultContent"></div>
            </div>
        </div>
    </div>

    <script>
        // Ï†ÑÏó≠ Î≥ÄÏàò
        let currentData = {};
        
        // ÌÉ≠ Ï†ÑÌôò Ìï®Ïàò
        function showTab(tabName) {
            const tabs = document.querySelectorAll('.tab');
            const contents = document.querySelectorAll('.tab-content');
            
            tabs.forEach(tab => tab.classList.remove('active'));
            contents.forEach(content => content.classList.remove('active'));
            
            document.querySelector(`[onclick="showTab('${tabName}')"]`).classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }
        
        // Ïä¨ÎùºÏù¥Îçî Ïù¥Î≤§Ìä∏
        document.getElementById('rateSlider').addEventListener('input', function() {
            document.getElementById('sliderValue').textContent = this.value + '%';
            document.getElementById('interestRate').value = this.value;
        });
        
        // Í∏∞Î≥∏ Í≥ÑÏÇ∞ Ìï®Ïàò
        function calculateAll() {
            const cash = parseInt(document.getElementById('cash').value);
            const income = parseInt(document.getElementById('income').value);
            const region = document.getElementById('region').value;
            const age = parseInt(document.getElementById('age').value);
            const marriage = document.getElementById('marriage').value;
            const firstTime = document.getElementById('firstTime').value === 'true';
            
            currentData = { cash, income, region, age, marriage, firstTime };
            
            const result = calculateBasicLoan(currentData);
            displayBasicResult(result);
            
            // Îã§Î•∏ ÌÉ≠ ÏûêÎèô ÏóÖÎç∞Ïù¥Ìä∏
            document.getElementById('loanAmount').value = result.recommendedAmount;
            document.getElementById('housePrice').value = result.maxHousePrice;
        }
        
        function calculateBasicLoan(data) {
            const { cash, income, region, age, marriage, firstTime } = data;
            
            // LTV Í≥ÑÏÇ∞ (2025ÎÖÑ ÌòÑÏû¨ Í∑úÏ†ú)
            let ltv = 0.7; // Í∏∞Î≥∏Í∞í
            if (region === 'seoul') ltv = 0.5;
            else if (region === 'metro') ltv = 0.7;
            else ltv = 0.8;
            
            // ÏùºÎ∞ò ÎåÄÏ∂ú Í≥ÑÏÇ∞
            const generalMaxPrice = cash / (1 - ltv);
            const generalLoanAmount = generalMaxPrice - cash;
            
            // Ï†ïÏ±ÖÎåÄÏ∂ú ÏûêÍ≤© ÌôïÏù∏ (2025ÎÖÑ ÏóÖÎç∞Ïù¥Ìä∏Îêú Ï°∞Í±¥)
            const policyEligible = income <= 70000000 && firstTime; // ÏÉùÏï†ÏµúÏ¥à 7Ï≤úÎßåÏõêÏúºÎ°ú ÏÉÅÌñ•
            const newlywedEligible = marriage === 'newlywed' && income <= 85000000; // Ïã†ÌòºÎ∂ÄÎ∂Ä 8.5Ï≤úÎßåÏõê
            const youthEligible = age <= 34 && income <= 50000000 && firstTime; // Ï≤≠ÎÖÑÎìúÎ¶º Ï°∞Í±¥
            
            let policyLoanAmount = 0;
            let policyMaxPrice = 0;
            let recommendedLoan = 'ÏùºÎ∞ò Ï£ºÌÉùÎã¥Î≥¥ÎåÄÏ∂ú';
            
            // ÏµúÏ†Å Ï†ïÏ±ÖÎåÄÏ∂ú ÏÑ†ÌÉù
            if (marriage === 'newlywed' && income <= 85000000) {
                // Ïã†ÌòºÎ∂ÄÎ∂ÄÍ∞Ä Í∞ÄÏû• Ïú†Î¶¨Ìïú Ï°∞Í±¥
                policyLoanAmount = Math.min(400000000, income * 6);
                policyMaxPrice = cash + policyLoanAmount;
                recommendedLoan = 'Ïã†ÌòºÎ∂ÄÎ∂Ä ÎîîÎî§Îèå ÎåÄÏ∂ú';
            } else if (policyEligible) {
                // ÏÉùÏï†ÏµúÏ¥à
                policyLoanAmount = Math.min(300000000, income * 5);
                policyMaxPrice = cash + policyLoanAmount;
                recommendedLoan = 'ÏÉùÏï†ÏµúÏ¥à ÎîîÎî§Îèå ÎåÄÏ∂ú';
            } else if (youthEligible) {
                // Ï≤≠ÎÖÑ Ï£ºÌÉùÎìúÎ¶º
                policyLoanAmount = Math.min(300000000, income * 6);
                policyMaxPrice = cash + policyLoanAmount;
                recommendedLoan = 'Ï≤≠ÎÖÑ Ï£ºÌÉùÎìúÎ¶º ÎåÄÏ∂ú';
            }
            
            const finalMaxPrice = Math.max(generalMaxPrice, policyMaxPrice);
            const finalLoanAmount = finalMaxPrice - cash;
            
            return {
                maxHousePrice: finalMaxPrice,
                recommendedAmount: finalLoanAmount,
                recommendedLoan,
                generalMaxPrice,
                policyMaxPrice,
                ltv: ltv * 100,
                eligibility: {
                    policy: policyEligible,
                    newlywed: newlywedEligible,
                    youth: youthEligible
                }
            };
        }
        
        function displayBasicResult(result) {
            const resultDiv = document.getElementById('basicResult');
            const content = document.getElementById('basicResultContent');
            
            content.innerHTML = `
                <div class="result-grid">
                    <div class="result-card-special result-card-green">
                        <div class="result-label-white">Íµ¨ÏûÖ Í∞ÄÎä• Ï£ºÌÉù Í∞ÄÍ≤©</div>
                        <div class="result-value-large">${(result.maxHousePrice/100000000).toFixed(1)}Ïñµ Ïõê</div>
                    </div>
                    <div class="result-card-special result-card-blue">
                        <div class="result-label-white">Ï∂îÏ≤ú ÎåÄÏ∂ú ÏÉÅÌíà</div>
                        <div class="result-value-large">${result.recommendedLoan}</div>
                    </div>
                    <div class="result-card-special result-card-pink">
                        <div class="result-label-white">ÎåÄÏ∂ú Í∞ÄÎä• Í∏àÏï°</div>
                        <div class="result-value-large">${(result.recommendedAmount/100000000).toFixed(1)}Ïñµ Ïõê</div>
                    </div>
                </div>
                
                <div class="result-grid">
                    <div class="result-card">
                        <div class="result-label">Ï†ÅÏö© LTV</div>
                        <div class="result-value">${result.ltv}%</div>
                    </div>
                    <div class="result-card">
                        <div class="result-label">Ï†ïÏ±ÖÎåÄÏ∂ú ÏûêÍ≤©</div>
                        <div class="result-value">${result.eligibility.policy ? '‚úÖ Í∞ÄÎä•' : '‚ùå Î∂àÍ∞Ä'}</div>
                    </div>
                    <div class="result-card">
                        <div class="result-label">Ïã†ÌòºÎ∂ÄÎ∂Ä ÏûêÍ≤©</div>
                        <div class="result-value">${result.eligibility.newlywed ? '‚úÖ Í∞ÄÎä•' : '‚ùå Î∂àÍ∞Ä'}</div>
                    </div>
                </div>
            `;
            
            resultDiv.style.display = 'block';
            resultDiv.scrollIntoView({ behavior: 'smooth' });
        }
        
        // Ïõî ÏÉÅÌôòÏï° Í≥ÑÏÇ∞ Ìï®Ïàò
        function calculatePayment() {
            const loanAmount = parseInt(document.getElementById('loanAmount').value);
            const interestRate = parseFloat(document.getElementById('interestRate').value);
            const loanTerm = parseInt(document.getElementById('loanTerm').value);
            const paymentType = document.getElementById('paymentType').value;
            
            const monthlyRate = interestRate / 100 / 12;
            const totalMonths = loanTerm * 12;
            
            let monthlyPayment, totalPayment, totalInterest;
            
            if (paymentType === 'equal') {
                // ÏõêÎ¶¨Í∏àÍ∑†Îì±
                monthlyPayment = loanAmount * (monthlyRate * Math.pow(1 + monthlyRate, totalMonths)) / (Math.pow(1 + monthlyRate, totalMonths) - 1);
                totalPayment = monthlyPayment * totalMonths;
                totalInterest = totalPayment - loanAmount;
            } else {
                // ÏõêÍ∏àÍ∑†Îì±
                const principalPayment = loanAmount / totalMonths;
                const firstInterest = loanAmount * monthlyRate;
                monthlyPayment = principalPayment + firstInterest;
                totalInterest = loanAmount * monthlyRate * (totalMonths + 1) / 2;
                totalPayment = loanAmount + totalInterest;
            }
            
            displayPaymentResult({
                loanAmount,
                monthlyPayment,
                totalPayment,
                totalInterest,
                interestRate,
                loanTerm,
                paymentType
            });
        }
        
        function displayPaymentResult(result) {
            const resultDiv = document.getElementById('paymentResult');
            const content = document.getElementById('paymentResultContent');
            
            content.innerHTML = `
                <div class="result-grid">
                    <div class="result-card-special result-card-purple">
                        <div class="result-label-white">Ïõî ÏÉÅÌôòÏï°</div>
                        <div class="result-value-large">${Math.round(result.monthlyPayment).toLocaleString()}Ïõê</div>
                    </div>
                    <div class="result-card-special result-card-orange">
                        <div class="result-label-white">Ï¥ù ÏÉÅÌôòÏï°</div>
                        <div class="result-value-large">${Math.round(result.totalPayment/100000000).toFixed(1)}ÏñµÏõê</div>
                    </div>
                    <div class="result-card-special result-card-pink">
                        <div class="result-label-white">Ï¥ù Ïù¥Ïûê</div>
                        <div class="result-value-large">${Math.round(result.totalInterest/100000000).toFixed(1)}ÏñµÏõê</div>
                    </div>
                </div>
                
                <div class="result-grid">
                    <div class="result-card">
                        <div class="result-label">ÎåÄÏ∂ú ÏõêÍ∏à</div>
                        <div class="result-value">${(result.loanAmount/100000000).toFixed(1)}ÏñµÏõê</div>
                    </div>
                    <div class="result-card">
                        <div class="result-label">Ïó∞ Ïù¥ÏûêÏú®</div>
                        <div class="result-value">${result.interestRate}%</div>
                    </div>
                    <div class="result-card">
                        <div class="result-label">ÎåÄÏ∂ú Í∏∞Í∞Ñ</div>
                        <div class="result-value">${result.loanTerm}ÎÖÑ</div>
                    </div>
                    <div class="result-card">
                        <div class="result-label">ÏÉÅÌôò Î∞©Ïãù</div>
                        <div class="result-value">${result.paymentType === 'equal' ? 'ÏõêÎ¶¨Í∏àÍ∑†Îì±' : 'ÏõêÍ∏àÍ∑†Îì±'}</div>
                    </div>
                </div>
                
                <div class="calculation-box">
                    <div class="calculation-title">üí° ÏÉÅÌôò Î∞©ÏãùÎ≥Ñ ÌäπÏßï</div>
                    <div class="calculation-text">
                        ${result.paymentType === 'equal' ? 
                            'ÏõêÎ¶¨Í∏àÍ∑†Îì±: Îß§Ïõî ÎèôÏùºÌïú Í∏àÏï°ÏùÑ ÏÉÅÌôòÌïòÏó¨ Í∞ÄÍ≥ÑÎ∂Ä Í¥ÄÎ¶¨Í∞Ä Ïö©Ïù¥Ìï©ÎãàÎã§.' : 
                            'ÏõêÍ∏àÍ∑†Îì±: Ï¥àÍ∏∞ ÏÉÅÌôòÏï°Ïù¥ ÎÜíÏßÄÎßå ÏãúÍ∞ÑÏù¥ ÏßÄÎÇ†ÏàòÎ°ù Ï§ÑÏñ¥Îì§Î©∞, Ï¥ù Ïù¥ÏûêÍ∞Ä Îçî Ï†ÅÏäµÎãàÎã§.'
                        }
                    </div>
                </div>
            `;
            
            resultDiv.style.display = 'block';
            resultDiv.scrollIntoView({ behavior: 'smooth' });
        }
        
        // Î∂ÄÎåÄÎπÑÏö© Í≥ÑÏÇ∞ Ìï®Ïàò
        function calculateCost() {
            const housePrice = parseInt(document.getElementById('housePrice').value);
            const houseType = document.getElementById('houseType').value;
            const isFirstTime = document.getElementById('isFirstTime').value === 'true';
            
            // Ï∑®ÎìùÏÑ∏ Í≥ÑÏÇ∞ (ÏÉùÏï†ÏµúÏ¥à 50% Í∞êÎ©¥)
            let acquisitionTaxRate = 0.04; // 4%
            if (isFirstTime) acquisitionTaxRate = 0.02; // 2% (50% Í∞êÎ©¥)
            const acquisitionTax = housePrice * acquisitionTaxRate;
            
            // Îì±Î°ùÏÑ∏ (0.2%)
            const registrationTax = housePrice * 0.002;
            
            // Ï§ëÍ∞úÏàòÏàòÎ£å (0.6% ÏÉÅÌïú)
            const brokerageFee = housePrice * 0.006;
            
            // Î≤ïÎ¨¥ÏÇ¨ ÎπÑÏö©
            const legalFee = 1000000;
            
            // Í∞êÏ†ïÌèâÍ∞Ä ÎπÑÏö©
            const appraisalFee = 300000;
            
            // ÌôîÏû¨Î≥¥ÌóòÎ£å
            const insuranceFee = 200000;
            
            // Ïù∏ÏßÄÏÑ∏
            const stampTax = 150000;
            
            const totalCost = acquisitionTax + registrationTax + brokerageFee + legalFee + appraisalFee + insuranceFee + stampTax;
            const totalNeeded = housePrice * 0.3 + totalCost; // ÏûêÍ∏∞ÏûêÎ≥∏ 30% + Î∂ÄÎåÄÎπÑÏö©
            
            displayCostResult({
                housePrice,
                acquisitionTax,
                registrationTax,
                brokerageFee,
                legalFee,
                appraisalFee,
                insuranceFee,
                stampTax,
                totalCost,
                totalNeeded,
                isFirstTime
            });
        }
        
        function displayCostResult(result) {
            const resultDiv = document.getElementById('costResult');
            const content = document.getElementById('costResultContent');
            
            content.innerHTML = `
                <div class="result-grid">
                    <div class="result-card-special result-card-orange">
                        <div class="result-label-white">Ï¥ù Î∂ÄÎåÄÎπÑÏö©</div>
                        <div class="result-value-large">${Math.round(result.totalCost/10000).toLocaleString()}ÎßåÏõê</div>
                    </div>
                    <div class="result-card-special result-card-purple">
                        <div class="result-label-white">ÌïÑÏöî ÌòÑÍ∏à Ï¥ùÏï°</div>
                        <div class="result-value-large">${(result.totalNeeded/100000000).toFixed(1)}ÏñµÏõê</div>
                    </div>
                </div>
                
                <div class="cost-breakdown">
                    <h5>üí≥ Î∂ÄÎåÄÎπÑÏö© ÏÉÅÏÑ∏ ÎÇ¥Ïó≠</h5>
                    <div class="cost-item">
                        <span>Ï∑®ÎìùÏÑ∏ ${result.isFirstTime ? '(ÏÉùÏï†ÏµúÏ¥à 50% Í∞êÎ©¥)' : ''}</span>
                        <span>${Math.round(result.acquisitionTax/10000).toLocaleString()}ÎßåÏõê</span>
                    </div>
                    <div class="cost-item">
                        <span>Îì±Î°ùÏÑ∏</span>
                        <span>${Math.round(result.registrationTax/10000).toLocaleString()}ÎßåÏõê</span>
                    </div>
                    <div class="cost-item">
                        <span>Ï§ëÍ∞úÏàòÏàòÎ£å</span>
                        <span>${Math.round(result.brokerageFee/10000).toLocaleString()}ÎßåÏõê</span>
                    </div>
                    <div class="cost-item">
                        <span>Î≤ïÎ¨¥ÏÇ¨ ÎπÑÏö©</span>
                        <span>${Math.round(result.legalFee/10000).toLocaleString()}ÎßåÏõê</span>
                    </div>
                    <div class="cost-item">
                        <span>Í∞êÏ†ïÌèâÍ∞Ä ÎπÑÏö©</span>
                        <span>${Math.round(result.appraisalFee/10000).toLocaleString()}ÎßåÏõê</span>
                    </div>
                    <div class="cost-item">
                        <span>ÌôîÏû¨Î≥¥ÌóòÎ£å</span>
                        <span>${Math.round(result.insuranceFee/10000).toLocaleString()}ÎßåÏõê</span>
                    </div>
                    <div class="cost-item">
                        <span>Ïù∏ÏßÄÏÑ∏</span>
                        <span>${Math.round(result.stampTax/10000).toLocaleString()}ÎßåÏõê</span>
                    </div>
                    <div class="cost-item">
                        <span>Ï¥ù Î∂ÄÎåÄÎπÑÏö©</span>
                        <span>${Math.round(result.totalCost/10000).toLocaleString()}ÎßåÏõê</span>
                    </div>
                </div>
                
                <div class="warning-box">
                    <h5>‚ö†Ô∏è Ï£ºÏùòÏÇ¨Ìï≠</h5>
                    <p>‚Ä¢ Ïã§Ï†ú ÎπÑÏö©ÏùÄ ÏßÄÏó≠Î≥Ñ, Ï§ëÍ∞úÏÇ¨Î≥ÑÎ°ú Ï∞®Ïù¥Í∞Ä ÏûàÏùÑ Ïàò ÏûàÏäµÎãàÎã§.</p>
                    <p>‚Ä¢ ÏÉùÏï†ÏµúÏ¥à ÌäπÎ°ÄÎäî ÏÜåÎìù Î∞è Ï£ºÌÉùÍ∞ÄÍ≤© Ï°∞Í±¥ÏùÑ ÎßåÏ°±Ìï¥Ïïº Ìï©ÎãàÎã§.</p>
                    <p>‚Ä¢ Ï∂îÍ∞ÄÎ°ú Ïù¥ÏÇ¨ÎπÑÏö©, Ïù∏ÌÖåÎ¶¨Ïñ¥ ÎπÑÏö© Îì±ÏùÑ Í≥†Î†§ÌïòÏãúÍ∏∞ Î∞îÎûçÎãàÎã§.</p>
                </div>
            `;
            
            resultDiv.style.display = 'block';
            resultDiv.scrollIntoView({ behavior: 'smooth' });
        }
        
        // ÎåÄÏ∂ú ÏÉÅÌíà ÎπÑÍµê Ìï®Ïàò (2025ÎÖÑ ÏµúÏã† Ï†ïÎ≥¥ Î∞òÏòÅ)
        function compareLoanProducts() {
            // ÌòÑÏû¨ ÏûÖÎ†•Í∞íÏúºÎ°ú Î∞îÎ°ú Í≥ÑÏÇ∞
            const cash = parseInt(document.getElementById('cash').value);
            const income = parseInt(document.getElementById('income').value);
            const region = document.getElementById('region').value;
            const age = parseInt(document.getElementById('age').value);
            const marriage = document.getElementById('marriage').value;
            const firstTime = document.getElementById('firstTime').value === 'true';
            
            if (!cash || !income) {
                alert('Î≥¥Ïú† ÌòÑÍ∏àÍ≥º Ïó∞Î¥â Ï†ïÎ≥¥Î•º ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }
            
            const products = [];
            
            // ÏùºÎ∞ò Ï£ºÌÉùÎã¥Î≥¥ÎåÄÏ∂ú (2025ÎÖÑ ÌòÑÏû¨ Í∏àÎ¶¨)
            const ltv = region === 'seoul' ? 0.5 : region === 'metro' ? 0.7 : 0.8;
            const generalMaxPrice = cash / (1 - ltv);
            const generalLoanAmount = generalMaxPrice - cash;
            
            products.push({
                name: 'ÏùºÎ∞ò Ï£ºÌÉùÎã¥Î≥¥ÎåÄÏ∂ú',
                maxAmount: generalLoanAmount,
                interestRate: '4.2-6.8%',
                features: `LTV ${ltv*100}%, Ïä§Ìä∏Î†àÏä§ DSR Ï†ÅÏö©`,
                eligible: true,
                monthlyPayment: calculateMonthlyPayment(generalLoanAmount, 5.5, 30)
            });
            
            // ÏÉùÏï†ÏµúÏ¥à ÎîîÎî§Îèå ÎåÄÏ∂ú (ÏµúÏã† Ï°∞Í±¥)
            if (income <= 70000000 && firstTime) {
                const policyAmount = Math.min(300000000, income * 5);
                products.push({
                    name: 'ÏÉùÏï†ÏµúÏ¥à ÎîîÎî§Îèå ÎåÄÏ∂ú',
                    maxAmount: policyAmount,
                    interestRate: '2.2-3.8%',
                    features: 'ÏµúÏ†ÄÍ∏àÎ¶¨ 1.5%, LTV 80%, ÏÜåÎìù 7Ï≤úÎßåÏõê Ïù¥Ìïò',
                    eligible: true,
                    monthlyPayment: calculateMonthlyPayment(policyAmount, 2.8, 30)
                });
            }
            
            // Ïã†ÌòºÎ∂ÄÎ∂Ä ÎîîÎî§Îèå ÎåÄÏ∂ú (ÏµúÏã† Ï°∞Í±¥)
            if (marriage === 'newlywed' && income <= 85000000) {
                const newlywedAmount = Math.min(400000000, income * 6);
                products.push({
                    name: 'Ïã†ÌòºÎ∂ÄÎ∂Ä ÎîîÎî§Îèå ÎåÄÏ∂ú',
                    maxAmount: newlywedAmount,
                    interestRate: '1.8-3.5%',
                    features: 'ÏµúÏ†ÄÍ∏àÎ¶¨ 1.2%, ÏÜåÎìù 8.5Ï≤úÎßåÏõê Ïù¥Ìïò, 5ÎÖÑÍ∞Ñ Ïö∞ÎåÄ',
                    eligible: true,
                    monthlyPayment: calculateMonthlyPayment(newlywedAmount, 2.5, 30)
                });
            }
            
            // Ï≤≠ÎÖÑ Ï£ºÌÉùÎìúÎ¶º ÎåÄÏ∂ú (2024ÎÖÑ ÏÉàÎ°ú Ï∂úÏãú)
            if (age <= 34 && income <= 50000000 && firstTime) {
                const youthAmount = Math.min(300000000, income * 6);
                products.push({
                    name: 'Ï≤≠ÎÖÑ Ï£ºÌÉùÎìúÎ¶º ÎåÄÏ∂ú',
                    maxAmount: youthAmount,
                    interestRate: '2.2-3.6%',
                    features: 'Ï≤≠ÎÖÑÌÜµÏû• 1ÎÖÑ Ïù¥ÏÉÅ Í∞ÄÏûÖ, ÎßåÍ∏∞ 40ÎÖÑ',
                    eligible: true,
                    monthlyPayment: calculateMonthlyPayment(youthAmount, 2.9, 40)
                });
            }
            
            // Ïã†ÏÉùÏïÑ ÌäπÎ°Ä ÎîîÎî§Îèå ÎåÄÏ∂ú (2ÎÖÑ ÎÇ¥ Ï∂úÏÇ∞ Ïãú)
            if (income <= 130000000) {
                const babyAmount = Math.min(500000000, income * 7);
                products.push({
                    name: 'Ïã†ÏÉùÏïÑ ÌäπÎ°Ä ÎîîÎî§Îèå ÎåÄÏ∂ú',
                    maxAmount: babyAmount,
                    interestRate: '1.6-2.9%',
                    features: '2ÎÖÑ ÎÇ¥ Ï∂úÏÇ∞ Ïãú, ÏµúÎåÄ 5ÏñµÏõê, 15ÎÖÑ ÌäπÎ°ÄÍ∏àÎ¶¨',
                    eligible: marriage === 'newlywed' || marriage === 'married',
                    monthlyPayment: calculateMonthlyPayment(babyAmount, 2.2, 30)
                });
            }
            
            // Î≥¥Í∏àÏûêÎ¶¨Î°† (ÌïúÍµ≠Ï£ºÌÉùÍ∏àÏúµÍ≥µÏÇ¨)
            if (firstTime) {
                const bogeumAmount = Math.min(420000000, generalLoanAmount);
                products.push({
                    name: 'Î≥¥Í∏àÏûêÎ¶¨Î°† (ÏÉùÏï†ÏµúÏ¥à)',
                    maxAmount: bogeumAmount,
                    interestRate: '3.8-5.2%',
                    features: 'LTV 80%, Í≥†Ï†ïÍ∏àÎ¶¨, ÎπÑÏÉÅÌôòÏ±ÖÏûÑ',
                    eligible: true,
                    monthlyPayment: calculateMonthlyPayment(bogeumAmount, 4.5, 30)
                });
            }
            
            // Í≤∞Í≥ºÍ∞Ä ÏóÜÏúºÎ©¥ Í∏∞Î≥∏ ÏÉÅÌíàÎßå ÌëúÏãú
            if (products.length === 1) {
                products.push({
                    name: 'ÏùÄÌñâ Ï£ºÌÉùÎã¥Î≥¥ÎåÄÏ∂ú',
                    maxAmount: generalLoanAmount * 0.9,
                    interestRate: '4.0-6.5%',
                    features: 'ÏùÄÌñâÎ≥Ñ Ï∞®Îì±Í∏àÎ¶¨, Ïö∞ÎåÄÏ°∞Í±¥ Ï†ÅÏö© Í∞ÄÎä•',
                    eligible: true,
                    monthlyPayment: calculateMonthlyPayment(generalLoanAmount * 0.9, 5.2, 30)
                });
            }
            
            console.log('ÏÉùÏÑ±Îêú ÎåÄÏ∂ú ÏÉÅÌíà:', products); // ÎîîÎ≤ÑÍπÖÏö©
            
            displayCompareResult(products);
        }
        
        function calculateMonthlyPayment(amount, rate, term) {
            const monthlyRate = rate / 100 / 12;
            const totalMonths = term * 12;
            return amount * (monthlyRate * Math.pow(1 + monthlyRate, totalMonths)) / (Math.pow(1 + monthlyRate, totalMonths) - 1);
        }
        
        function displayCompareResult(products) {
            const resultDiv = document.getElementById('compareResult');
            const content = document.getElementById('compareResultContent');
            
            console.log('ÎåÄÏ∂ú ÏÉÅÌíà ÌëúÏãú:', products); // ÎîîÎ≤ÑÍπÖÏö©
            
            if (products.length === 0) {
                content.innerHTML = '<p>Ï°∞Í±¥Ïóê ÎßûÎäî ÎåÄÏ∂ú ÏÉÅÌíàÏù¥ ÏóÜÏäµÎãàÎã§.</p>';
                resultDiv.style.display = 'block';
                return;
            }
            
            // ÏµúÏ†ÄÍ∏àÎ¶¨ ÏÉÅÌíà Ï∞æÍ∏∞
            const bestProduct = products.reduce((best, current) => {
                const bestRate = parseFloat(best.interestRate.split('-')[0]);
                const currentRate = parseFloat(current.interestRate.split('-')[0]);
                return currentRate < bestRate ? current : best;
            });
            
            let tableHTML = `
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>ÎåÄÏ∂ú ÏÉÅÌíà</th>
                            <th>ÏµúÎåÄ ÌïúÎèÑ</th>
                            <th>Í∏àÎ¶¨</th>
                            <th>Ïõî ÏÉÅÌôòÏï° (30ÎÖÑ)</th>
                            <th>ÌäπÏßï</th>
                            <th>ÏûêÍ≤©</th>
                        </tr>
                    </thead>
                    <tbody>
            `;
            
            products.forEach(product => {
                const isBest = product.name === bestProduct.name;
                const monthlyPaymentDisplay = product.monthlyPayment ? Math.round(product.monthlyPayment/10000).toLocaleString() + 'ÎßåÏõê' : '-';
                tableHTML += `
                    <tr ${isBest ? 'class="best-option"' : ''}>
                        <td>${product.name} ${isBest ? 'üèÜ' : ''}</td>
                        <td>${(product.maxAmount/100000000).toFixed(1)}ÏñµÏõê</td>
                        <td>${product.interestRate}</td>
                        <td>${monthlyPaymentDisplay}</td>
                        <td>${product.features}</td>
                        <td>${product.eligible ? '‚úÖ Í∞ÄÎä•' : '‚ùå Î∂àÍ∞Ä'}</td>
                    </tr>
                `;
            });
            
            tableHTML += `
                    </tbody>
                </table>
                
                <div class="calculation-box">
                    <div class="calculation-title">üèÜ Ï∂îÏ≤ú ÏÉÅÌíà: ${bestProduct.name}</div>
                    <div class="calculation-text">
                        ÏµúÏ†ÄÍ∏àÎ¶¨Î°ú Ïõî ÏÉÅÌôò Î∂ÄÎã¥ÏùÑ Ï§ÑÏùº Ïàò ÏûàÎäî ÏÉÅÌíàÏûÖÎãàÎã§. 
                        ÎåÄÏ∂ú ÌïúÎèÑ: ${(bestProduct.maxAmount/100000000).toFixed(1)}ÏñµÏõê, 
                        ÏòàÏÉÅ Ïõî ÏÉÅÌôòÏï°: ${Math.round(bestProduct.monthlyPayment/10000).toLocaleString()}ÎßåÏõê
                    </div>
                </div>
                
                <div class="warning-box">
                    <h5>‚ö†Ô∏è 2025ÎÖÑ ÏµúÏã† Ïú†ÏùòÏÇ¨Ìï≠</h5>
                    <p>‚Ä¢ Ïã§Ï†ú Í∏àÎ¶¨Îäî Í∞úÏù∏ Ïã†Ïö©ÎèÑÏóê Îî∞Îùº Îã¨ÎùºÏßà Ïàò ÏûàÏäµÎãàÎã§.</p>
                    <p>‚Ä¢ 2025ÎÖÑ 7ÏõîÎ∂ÄÌÑ∞ Ïä§Ìä∏Î†àÏä§ DSR 3Îã®Í≥Ñ ÏãúÌñâÏúºÎ°ú ÎåÄÏ∂ú ÌïúÎèÑÍ∞Ä Ï∂îÍ∞Ä Í∞êÏÜåÌï† ÏòàÏ†ïÏûÖÎãàÎã§.</p>
                    <p>‚Ä¢ Ï†ïÏ±ÖÎåÄÏ∂úÏùÄ ÏÜåÎìùÏ¶ùÎπô, Ï£ºÌÉùÍ∞ÄÍ≤© Îì± Ï∂îÍ∞Ä Ï°∞Í±¥Ïù¥ ÏûàÏäµÎãàÎã§.</p>
                    <p>‚Ä¢ Ï§ëÎèÑÏÉÅÌôò ÏàòÏàòÎ£åÍ∞Ä 2025ÎÖÑÎ∂ÄÌÑ∞ Ï†àÎ∞òÏúºÎ°ú Ïù∏ÌïòÎêòÏóàÏäµÎãàÎã§.</p>
                    <p>‚Ä¢ Ï≤≠ÎÖÑ Ï£ºÌÉùÎìúÎ¶º ÎåÄÏ∂úÏùÄ Ï≤≠ÎÖÑ Ï£ºÌÉùÎìúÎ¶º Ï≤≠ÏïΩÌÜµÏû• 1ÎÖÑ Ïù¥ÏÉÅ Í∞ÄÏûÖ Ïãú Ïù¥Ïö© Í∞ÄÎä•Ìï©ÎãàÎã§.</p>
                    <p>‚Ä¢ ÎåÄÏ∂ú Ïã§Ìñâ Ï†Ñ Í∞Å Í∏àÏúµÍ∏∞Í¥ÄÏóêÏÑú Ï†ïÌôïÌïú Ï°∞Í±¥ÏùÑ ÌôïÏù∏ÌïòÏãúÍ∏∞ Î∞îÎûçÎãàÎã§.</p>
                </div>
            `;
            
            content.innerHTML = tableHTML;
            resultDiv.style.display = 'block';
            resultDiv.scrollIntoView({ behavior: 'smooth' });
        }
        
        // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ï¥àÍ∏∞Ìôî
        window.addEventListener('load', function() {
            // Ïù¥ÏûêÏú® Ïä¨ÎùºÏù¥Îçî Ï¥àÍ∏∞Ìôî
            document.getElementById('rateSlider').addEventListener('input', function() {
                document.getElementById('sliderValue').textContent = this.value + '%';
                document.getElementById('interestRate').value = this.value;
            });
            
            // ÏûÖÎ†•Í∞í Î≥ÄÍ≤Ω Ïãú ÏûêÎèô Í≥ÑÏÇ∞ (Í∏∞Î≥∏ ÌÉ≠Îßå)
            const basicInputs = ['cash', 'income', 'region', 'age', 'marriage', 'firstTime'];
            basicInputs.forEach(id => {
                document.getElementById(id).addEventListener('change', function() {
                    if (document.getElementById('basic').classList.contains('active')) {
                        calculateAll();
                    }
                });
            });
        });
    </script>
</body>
</html>